@if (IsOpen)
{
    <div class="modal-overlay" @onclick="OnBackdropClick">
        <div class="absolute inset-0 bg-black/50" aria-hidden="true"></div>
        <div class="modal-panel" @onclick:stopPropagation="true">
            @if (!string.IsNullOrEmpty(Title))
            {
                <h2 class="text-lg font-semibold mb-4" style="font-family: var(--font-title); color: var(--outline-dark);">@Title</h2>
            }
            @ChildContent
        </div>
    </div>
}

@code {
    [Parameter] public bool IsOpen { get; set; }
    [Parameter] public EventCallback OnClose { get; set; }
    [Parameter] public RenderFragment? ChildContent { get; set; }
    [Parameter] public string? Title { get; set; }
    [Parameter] public bool CloseOnBackdropClick { get; set; } = true;

    private async Task OnBackdropClick()
    {
        if (CloseOnBackdropClick)
            await OnClose.InvokeAsync();
    }
}
